<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matera Digital Twin - Commons Events</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
    <header class="main-header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="assets/matera-icon.svg" alt="Matera" width="40" height="40">
                    <span class="logo-text">Matera Digital Twin</span>
                </div>
                <nav class="main-nav">
                    <a href="index.html" class="nav-link">Home</a>
                    <a href="index.html#apis" class="nav-link">API Reference</a>
                    <a href="index.html#events" class="nav-link active">Events & Commands</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="content-section">
        <div class="container">
            <div class="api-detail">
                <div class="breadcrumb">
                    <a href="index.html">Home</a> > <a href="index.html#events">Events & Commands</a> > Commons Events
                </div>
                
                <h1>Commons Events</h1>
                <p class="api-description">Base event structures and common event types used across the platform.</p>
                
                <div class="endpoint-section">
                    <div class="endpoints-header">
                        <h2>Event Schemas</h2>
                    </div>
                    
                    <div class="endpoint-panel">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method event">EVENT</span>
                            <code>BaseEventContent</code>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div class="endpoint-content">
                            <p>Base event content structure containing common fields for all events.</p>
                            
                            <div class="event-namespace">
                                <strong>Namespace:</strong> <code>com.matera.dtw.event.base.common</code>
                            </div>
                            
                            <h3>Fields</h3>
                            <div class="params-table">
                                <div class="param-row">
                                    <div class="param-name">source</div>
                                    <div class="param-type">string</div>
                                    <div class="param-desc">Identifies the system (module) where the event was originated from (ie.: checking-account-system)</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">eventId</div>
                                    <div class="param-type">uuid</div>
                                    <div class="param-desc">Event Id on the originating system</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">createdAtUtc</div>
                                    <div class="param-type">timestamp-millis</div>
                                    <div class="param-desc">Timestamp with milliseconds when the event was generated in UTC</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">kind</div>
                                    <div class="param-type">string</div>
                                    <div class="param-desc">The kind (type) of the underlying event. It description should (preferably) include which aggregate the event is associated with (ie.: account-change-type)</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="endpoint-panel">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method event">EVENT</span>
                            <code>BaseEvent</code>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div class="endpoint-content">
                            <p>Base event structure that wraps event content and provides parent event tracking.</p>
                            
                            <div class="event-namespace">
                                <strong>Namespace:</strong> <code>com.matera.dtw.event.base.common</code>
                            </div>
                            
                            <h3>Fields</h3>
                            <div class="params-table">
                                <div class="param-row">
                                    <div class="param-name">content</div>
                                    <div class="param-type">BaseEventContent</div>
                                    <div class="param-desc">Event data</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">parents</div>
                                    <div class="param-type">array[BaseEventContent]</div>
                                    <div class="param-desc">The events that originated the underlying event. These events are disposed in an order on which the oldest event come first. The first event is the originating event (default: [])</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="endpoint-panel">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method event">EVENT</span>
                            <code>Currency</code>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div class="endpoint-content">
                            <p>Includes ISO 4217 currency codes plus custom stablecoins and cryptocurrencies.</p>
                            
                            <div class="event-namespace">
                                <strong>Namespace:</strong> <code>com.matera.dtw.event.common.financial</code>
                            </div>
                            
                            <h3>Type</h3>
                            <div class="params-table">
                                <div class="param-row">
                                    <div class="param-name">type</div>
                                    <div class="param-type">enum</div>
                                    <div class="param-desc">Currency enumeration (default: BRL)</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">symbols</div>
                                    <div class="param-type">array</div>
                                    <div class="param-desc">BRL, USD, EUR, BTC, USC, UST, SOL, XRP and all ISO 4217 codes</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="endpoint-panel">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method event">EVENT</span>
                            <code>FinancialAmount</code>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div class="endpoint-content">
                            <p>Monetary amount representation.</p>
                            
                            <div class="event-namespace">
                                <strong>Namespace:</strong> <code>com.matera.dtw.event.common.financial</code>
                            </div>
                            
                            <h3>Fields</h3>
                            <div class="params-table">
                                <div class="param-row">
                                    <div class="param-name">currency</div>
                                    <div class="param-type">Currency</div>
                                    <div class="param-desc">Currency type (default: BRL)</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">amount</div>
                                    <div class="param-type">decimal</div>
                                    <div class="param-desc">Amount as an unscaled value. For values with decimal parts, multiply by the scale. E.g.: $14.85 becomes 1485</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="endpoint-panel">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method event">EVENT</span>
                            <code>FeatureValue</code>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div class="endpoint-content">
                            <p>Transport generic data of different types.</p>
                            
                            <div class="event-namespace">
                                <strong>Namespace:</strong> <code>com.matera.dtw.event.common.feature</code>
                            </div>
                            
                            <h3>Fields</h3>
                            <div class="params-table">
                                <div class="param-row">
                                    <div class="param-name">type</div>
                                    <div class="param-type">FeatureType</div>
                                    <div class="param-desc">Feature type: BOOLEAN, STRING, DECIMAL, DATE, DATE_RANGE (default: STRING)</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">booleanValue</div>
                                    <div class="param-type">boolean | null</div>
                                    <div class="param-desc">Boolean value (default: null)</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">stringValue</div>
                                    <div class="param-type">string | null</div>
                                    <div class="param-desc">String value (default: null)</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">decimalValue</div>
                                    <div class="param-type">decimal | null</div>
                                    <div class="param-desc">Decimal value with 19 precision (default: null)</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">dateValue</div>
                                    <div class="param-type">date | null</div>
                                    <div class="param-desc">Date value (default: null)</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">dateRangeValue</div>
                                    <div class="param-type">DateRange | null</div>
                                    <div class="param-desc">Date range value (default: null)</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="endpoint-panel">
                        <div class="endpoint-header" onclick="toggleEndpoint(this)">
                            <span class="method event">EVENT</span>
                            <code>Limit</code>
                            <span class="expand-icon">▼</span>
                        </div>
                        <div class="endpoint-content">
                            <p>Represents a limit in the system.</p>
                            
                            <div class="event-namespace">
                                <strong>Namespace:</strong> <code>com.matera.dtw.event.common.financial</code>
                            </div>
                            
                            <h3>Fields</h3>
                            <div class="params-table">
                                <div class="param-row">
                                    <div class="param-name">limitType</div>
                                    <div class="param-type">string</div>
                                    <div class="param-desc">Type of limit</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">amountRange</div>
                                    <div class="param-type">FinancialAmountRange</div>
                                    <div class="param-desc">The limit amount range. For example, for an overdraft limit of 100 it would be minimum -100 and maximum 0</div>
                                </div>
                                <div class="param-row">
                                    <div class="param-name">feature</div>
                                    <div class="param-type">map[FeatureValue]</div>
                                    <div class="param-desc">Additional limit features/information (default: {})</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-content">
                <img src="assets/matera-logo.png" alt="Matera" height="40" class="footer-logo">
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Matera. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="assets/script.js"></script>
    <script>
        function toggleEndpoint(header) {
            const content = header.nextElementSibling;
            const isExpanded = content.classList.contains('expanded');
            
            if (isExpanded) {
                content.classList.remove('expanded');
                header.classList.remove('expanded');
            } else {
                content.classList.add('expanded');
                header.classList.add('expanded');
            }
        }
    </script>
</body>
</html>
